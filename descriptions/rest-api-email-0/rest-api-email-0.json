{
    "openapi": "3.0.0",
    "info": {
        "contact": {
            "name": "conjoon Open Source Project",
            "url": "https://conjoon.org",
            "email": "thorsten@suckow-homberg.de"
        },
        "version": "0",
        "title": "conjoon/rest-api-email",
        "license": {
            "name": "MIT",
            "url": "https://github.com/conjoon/rest-api-description"
        },
        "description": "Lightweight REST API specification for communicating with email services, including reading, writing and sending messages. Protocol agnostic."
    },
    "servers": [
        {
            "url": "{protocol}://{hostname}/rest-api-email/api/v0",
            "variables": {
                "hostname": {
                    "description": "Self-hosted Server",
                    "default": "HOSTNAME"
                },
                "protocol": {
                    "description": "Self-hostedServer protocol",
                    "default": "https"
                }
            },
            "description": "example server"
        }
    ],
    "paths": {
        "/MailAccounts": {
            "get": {
                "tags": [
                    "MailAccounts"
                ],
                "summary": "Lists mail accounts",
                "description": "Lists available mail accounts for the specified login",
                "operationId": "mailAccounts",
                "responses": {
                    "200": {
                        "description": "Available MailAccounts",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/MailAccount"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MailAccounts/{mailAccountId}/MailFolders": {
            "get": {
                "tags": [
                    "MailFolders"
                ],
                "summary": "List mail boxes",
                "description": "Returns all available mail boxes belonging to a specific mail account",
                "operationId": "mailFolders",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Available MailFolders belonging to a specific MailAccount",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/MailFolder"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems": {
            "get": {
                "tags": [
                    "MessageItems"
                ],
                "summary": "Get a list of ListMessageItems",
                "description": "Returns a list of all `ListMessageItem`s for the MailAccount with the specified `mailAccountId` and `mailFolderId`. This response returns a list of `ListMessageItem` in the boundaries of `start` and `start + limit`; meta-information in the response need to contain the current number of unread messages in the queried mailbox along with the mailbox's identifier (`mailFolderId`) and the associated account (`mailAccountId`) itself. \n<br>\n**The fields `mailFolderId`, `mailAccountId` and `id` must always be available with the response, for each returned entity.**\n\n### Query Parameters\n\n### `limit`\nA client must explicitly set `limit` to -1 if **ALL** items should be returned. `limit` is only considered if `ids` is omitted.\n\n### `attributes`\n\nAllows to define the attributes to return with a MessageItem. Defaults to `*` which means all attributes of a `ListMessageItem` are included.\nTo exclude attributes, append a comma-separated list with the names of attributes to exclude:\n\n**Example:** _All attributes are included (default)_\n```\n?attributes=* \n```\n\n**Example:** _Only `previewText` will be included in the set of attributes_\n```\n?attributes=previewText \n```\n\n**Example:** _`subject` and `previewText` will not be included in the set of attributes_\n```\n?attributes=*,previewText,subject \n```\n\n### `filter`\n\nA **json-encoded** string providing additional filter to consider. Must be an array of filter-objects. Multiple filter objects are considered as logical `OR` conditionals.\nIf the server does not understand the filter, a 400-response **MUST** be returned.\nTo group `filter` as logical `AND`, use Arrays of Arrays.\n\n\n#### Filter configuration\n- `property`\n    <br>The `property`-key **SHOULD** be an attribute the server understands.\n- `value`\n    <br>The `value`-key **SHOULD** be a a value for the `property`. The format is arbitrary.\n- `operator`\n    <br>The `operator`-key **SHOULD** be the operator that is used for comparing a list of data with the `property`s `value`. The default operator used is `=`\n         <br>(The following examples use json-decoded data for demonstration purposes.)\n         <br>\n    **Example:** _Getting messages flagged as `recent`._\n    ```\n    ?filter=[{\"property\": \"recent\", \"value\": true}]\n    ```\n   <br>\n    **Example:** _Getting messages flagged as `recent`, **OR** messages flagged as `unseen` with an `uid` greater than 1657._\n    ```\n    ?filter=[{\"property\": \"recent\", \"value\": true}, [{\"property\": \"unseen\", \"value\": true}, {\"property\": \"uid\", \"value\": 1657, \"operator\": \">\"}]]\n    ```\n\n\n### `options`\n\nA **json-encoded** string providing additional options for the attributes.\n\n- `previewText`\n    <br>The `previewText`-attribute **MUST** be allowed to be configured with:\n           <br> - `length` this allows to specify the length of the `previewText` to return\n    <br>The `previewText`-attribute **MUST NOT**, but **SHOULD**,  be allowed to be configured with:\n           <br> - `trimApi` if `length` is specified, `trimApi` requests the implementing backend to read out the complete text before trimming it. This can prevent charset decoding issues, but increases load-times (defaults to `false`).\n           <br> apply options to `html`/`plain`: If the backend supports it, the client should be able to chose which content type of the message should be previewed. The option `precedence` should be submitted to tell which content type should be preferred. A lookup for the other content type is then skipped. \n           <br>(The following examples use json-decoded data for demonstration purposes.)\n    \n    **Example:** _Preview Text is returned with a max. of 200 characters._\n    ```\n    ?options={previewText: {length:200}} \n    ```\n    **Example:** _Preview Text is returned with a max. of 200 characters, trimming should be done by the backend._\n    ```\n    ?options={previewText: {length:200, trimApi: true}} \n    ```\n    **Example:** _Preview Text configured to first look up content type `plain`, then content type `html` to generate the previewText:_\n    ```\n    ?options={previewText: {plain: {length: 200, trimApi: true, precedence: true}}, {html: {length: 200, trimApi: true}} \n    ``` \n    \n    If `plain` and `html` are omitted, the options configured for `previewText` should be internally get applied to both content types.\n    **Default**: The `previewText`s default setting should be, if nothing else specified:\n    ```json\n      previewText: {\n        plain: {\n            precedence: true,\n            length: 200,\n            trimApi: true\n        },\n        html: {\n            length: 200,\n            trimApi: true\n        }\n    }\n    ```\n    \n##### Ignored Options\nif an attribute is excluded, any value found in `options` referring to it will be ignored.",
                "operationId": "getMessageItems",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    },
                    {
                        "name": "start",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 0
                        },
                        "description": "The index of the first item to return",
                        "allowEmptyValue": true
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": -1
                        },
                        "description": "The number of items to return. Only considered when `ids` is not specified. If no limit is required by the client, it must be explicitly set to -1"
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "example": "'[{\"property\":\"date\",\"direction\":\"DESC\"}]'",
                            "default": "'[{\"property\":\"date\",\"direction\":\"DESC\"}]'"
                        },
                        "description": "A json-encoded object containing one or multiple sort information"
                    },
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "name": "attributes",
                        "description": "The list of attributes to include or exclude for the message item. * retrieves all, * followed by attribute names excludes the specified attributes. Attributes only w/o * returns only the specified attributes."
                    },
                    {
                        "schema": {
                            "type": "string",
                            "example": "'{\"previewText\":{\"plain\":{\"precedence\":true,length\":200,\"trimApi\":true},html\":{\"length\":200,\"trimApi\":true}}}'",
                            "default": "'{\"previewText\":{\"plain\":{\"precedence\":true,length\":200,\"trimApi\":true},html\":{\"length\":200,\"trimApi\":true}}}'"
                        },
                        "in": "query",
                        "name": "options",
                        "description": "A json-encoded object containing additional options for the resource lookup."
                    },
                    {
                        "schema": {
                            "type": "string",
                            "example": "'[{\"property\": \"recent\", \"value\": true}]'"
                        },
                        "in": "query",
                        "name": "filter",
                        "description": "A json encoded array of filter objects to send to the server. "
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of ListMessageItems. ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "total": {
                                            "type": "integer"
                                        },
                                        "meta": {
                                            "type": "object",
                                            "properties": {
                                                "cn_unreadCount": {
                                                    "type": "integer",
                                                    "description": "The number of unread messages the mailbox contains"
                                                },
                                                "mailFolderId": {
                                                    "type": "string"
                                                },
                                                "mailAccountId": {
                                                    "type": "string"
                                                },
                                                "uidNext": {
                                                    "type": "string",
                                                    "description": "Optional. The UID to be assigned to the next message in the currently selected folder, if supported by the server."
                                                }
                                            }
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/MessageItem"
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "MessageItem response example": {
                                        "value": {
                                            "success": true,
                                            "total": 3244224,
                                            "meta": {
                                                "cn_unreadCount": 23230,
                                                "mailFolderId": "INBOX",
                                                "mailAccountId": "conjoon"
                                            },
                                            "data": [
                                                {
                                                    "date": "string",
                                                    "subject": "Welcome!",
                                                    "from": "string",
                                                    "seen": false,
                                                    "answered": false,
                                                    "flagged": false,
                                                    "draft": false,
                                                    "recent": true,
                                                    "hasAttachments": false,
                                                    "to": [
                                                        {
                                                            "name": "Peter Griffin",
                                                            "address": "Peter.Griffin@quahog.com"
                                                        }
                                                    ],
                                                    "previewText": "Welcome to conjoon! It's been a while since we have upt",
                                                    "size": 234,
                                                    "cn_deleted": false,
                                                    "cn_moved": false,
                                                    "id": "2343",
                                                    "mailAccountId": "conjoon",
                                                    "mailFolderId": "INBOX"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "examples": {}
                            },
                            "application/xml": {
                                "schema": {
                                    "type": "object",
                                    "properties": {}
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            },
            "post": {
                "tags": [
                    "MessageDraft"
                ],
                "summary": "Creates a new draft",
                "description": "Creates a new draft for the specified MailAccount and stores it in the MailBox with the specified mailFolderId",
                "operationId": "postMessageBodyDraft",
                "parameters": [
                    {
                        "name": "target",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "MessageBodyDraft"
                            ]
                        }
                    },
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The created MessageBodyDraft",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/MessageBodyDraft"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}/Attachments": {
            "get": {
                "tags": [
                    "MessageItems"
                ],
                "summary": "Get a list of Attachments",
                "description": "Returns a list of all `ListMessageItem`s for the MailAccount with the specified `mailAccountId` and `mailFolderId`. This response returns a list of `ListMessageItem` in the boundaries of `start` and `start + limit`; meta-information in the response need to contain the current number of unread messages in the queried mailbox along with the mailbox's identifier (`mailFolderId`) and the associated account (`mailAccountId`) itself. \n<br>\n**The fields `mailFolderId`, `mailAccountId` and `id` must always be available with the response, for each returned entity.**\n",
                "operationId": "getMessageItems",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of ListMessageItems. ",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Attachment"
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Attachment response example": {
                                        "value": {
                                            "success": true,
                                            "data": [
                                                {
                                                    "id": "1",
                                                    "mailAccountId": "siteartwork",
                                                    "mailFolderId": "INBOX",
                                                    "parentMessageItemId": "181317",
                                                    "type": "image/png",
                                                    "text": "newmail.png",
                                                    "size": 21884,
                                                    "downloadUrl": "data:image/png;base64,longstring",
                                                    "previewImgSrc": "data:image/png;base64,longstring"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "MessageDraft"
                ],
                "summary": "Creates new Attachments",
                "description": "Creates new Attachments for the specified MessageItem.",
                "operationId": "postAttachment",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The created MessageBodyDraft",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/MessageBodyDraft"
                                        }
                                    }
                                }
                            },
                            "application/x-www-form-urlencoded": {
                                "schema": {
                                    "type": "object",
                                    "properties": {}
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "type": "object",
                                    "properties": {}
                                }
                            }
                        }
                    }
                },
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "files": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "text": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "localId": {
                                                    "type": "string"
                                                },
                                                "mailAccountId": {
                                                    "type": "string"
                                                },
                                                "mailFolderId": {
                                                    "type": "string"
                                                },
                                                "parentMessageItemId": {
                                                    "type": "string"
                                                },
                                                "blob": {
                                                    "type": "object"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "Payload example": {
                                    "value": {
                                        "data[0][text]": "streamdeck_key (16).png",
                                        "data[0][type]": "image/png",
                                        "file[0][0]": "(binary)",
                                        "data[0][localId]": "DraftAttachment-1",
                                        "data[0][mailAccountId]": "siteartwork",
                                        "data[0][mailFolderId]": "INBOX.Drafts",
                                        "data[0][parentMessageItemId]": "561"
                                    }
                                }
                            }
                        }
                    },
                    "description": "The form data for an attachment file."
                }
            },
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "mailAccountId",
                    "in": "path",
                    "required": true
                },
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "mailFolderId",
                    "in": "path",
                    "required": true
                },
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "messageItemId",
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}&target=MessageBody": {
            "get": {
                "tags": [
                    "MessageBody"
                ],
                "summary": "Return message body",
                "description": "Returns the MessageBody for the specified key fragments",
                "operationId": "getMessageBody",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    },
                    {
                        "$ref": "#/components/parameters/messageItemId"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The MessageBody found for the specified MailAccount, MailFolder and message id",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/MessageBody"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}&target=MessageItem": {
            "get": {
                "tags": [
                    "MessageItem"
                ],
                "summary": "Return message item",
                "description": "Returns the MessageItem for the specified key fragments.\n<br>The query parameters `fields` and `excludeFields` are mutually exclusive.",
                "operationId": "getMessageItem",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    },
                    {
                        "$ref": "#/components/parameters/messageItemId"
                    },
                    {
                        "schema": {
                            "type": "array"
                        },
                        "in": "query",
                        "description": "The list of fields to retrieve for the message item. Will return all fields if omitted.",
                        "name": "fields"
                    },
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "name": "excludeFields",
                        "description": "An array of fields to exclude from the response. "
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The MessageItem found for the specified MailAccount, MailFolder and message id",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/MessageItem"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "MessageItem"
                ],
                "summary": "Updates MessageItem",
                "description": "Updates the specific MessageItem with the submitted information.",
                "operationId": "putMessageItem",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/mailAccountId"
                    },
                    {
                        "$ref": "#/components/parameters/mailFolderId"
                    },
                    {
                        "$ref": "#/components/parameters/messageItemId"
                    },
                    {
                        "name": "origin",
                        "required": false,
                        "description": "Required to let the server know that the operation on the MessageItem is related to a recently created message, i.e. if the request is chained by creating a MessageDraft, for which now the envelope information should be updated.",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "create"
                            ]
                        }
                    },
                    {
                        "name": "action",
                        "required": false,
                        "description": "Requests a move operation for the specified MessageItem. Requires additional query-parameter `mailFolderId`",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "move"
                            ]
                        }
                    },
                    {
                        "name": "mailFolderId",
                        "required": false,
                        "description": "A new location for the MessageItem, if `action` represents a `move`-operation. Not to be confused with the path-parameter `{mailFolderId}`, which is required to identify the resource. The response must contain the MessageItem for this type of request.",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "seen",
                        "required": false,
                        "description": "Marks the MessageItem as seen/unseen",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "flagged",
                        "required": false,
                        "description": "Marks the MessageItem as flagged/un-flagged",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "draft",
                        "required": false,
                        "description": "Marks the MessageItem as a draft",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The updated message information",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "$ref": "#/components/schemas/putMessageItemResponse"
                                        },
                                        {
                                            "$ref": "#/components/schemas/moveMessageItemResponse"
                                        },
                                        {
                                            "$ref": "#/components/schemas/moveMessageItemResponse"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "MailAccounts",
            "description": "Endpoints related to reading MailAccounts"
        },
        {
            "name": "MessageDraft",
            "description": "Endpoints related to reading/writing MessageDrafts"
        },
        {
            "name": "MessageItems",
            "description": "Endpoints related to receiving lists of MessageItems"
        },
        {
            "name": "MessageItem",
            "description": "Endpoints related to reading/writing a single MessageItem"
        },
        {
            "name": "MessageBody",
            "description": "Endpoints related to reading/writing a single MessageBody"
        },
        {
            "name": "MailFolders",
            "description": "Endpoints related to reading MailFolders"
        }
    ],
    "components": {
        "parameters": {
            "mailAccountId": {
                "name": "mailAccountId",
                "in": "path",
                "required": true,
                "description": "An id of a MailAccount that should be targeted for the operation",
                "schema": {
                    "type": "string"
                }
            },
            "mailFolderId": {
                "name": "mailFolderId",
                "in": "path",
                "required": true,
                "description": "An id of the MailFolder that should be targeted for the operation",
                "schema": {
                    "type": "string"
                }
            },
            "messageItemId": {
                "name": "messageItemId",
                "in": "path",
                "required": true,
                "description": "The id of the MessageItem that should be targeted for the operation",
                "schema": {
                    "type": "string"
                }
            }
        },
        "schemas": {
            "MailFolder": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "mailAccountId": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "unreadCount": {
                        "type": "integer"
                    },
                    "folderType": {
                        "type": "string"
                    },
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/MailFolder"
                        }
                    },
                    "uidNext": {
                        "type": "string",
                        "description": "Optional. The UID to be assigned to the next message in the currently selected folder, if supported by the server."
                    }
                }
            },
            "MailAccount": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "folderType": {
                        "type": "string"
                    },
                    "from": {
                        "type": "string"
                    },
                    "replyTo": {
                        "type": "string"
                    },
                    "inbox_type": {
                        "type": "string"
                    },
                    "inbox_address": {
                        "type": "string"
                    },
                    "inbox_port": {
                        "type": "string"
                    },
                    "inbox_user": {
                        "type": "string"
                    },
                    "inbox_password": {
                        "type": "string"
                    },
                    "inbox_ssl": {
                        "type": "boolean"
                    },
                    "outbox_address": {
                        "type": "string"
                    },
                    "outbox_port": {
                        "type": "string"
                    },
                    "outbox_user": {
                        "type": "string"
                    },
                    "outbox_password": {
                        "type": "string"
                    },
                    "outbox_ssl": {
                        "type": "boolean"
                    }
                }
            },
            "MessageBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/MessageKey"
                    }
                ],
                "type": "object",
                "properties": {
                    "textHtml": {
                        "type": "string"
                    },
                    "textPlain": {
                        "type": "string"
                    }
                }
            },
            "MessageBodyDraft": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/MessageKey"
                    }
                ],
                "type": "object",
                "properties": {
                    "textHtml": {
                        "type": "string"
                    },
                    "textPlain": {
                        "type": "string"
                    }
                }
            },
            "MessageItem": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/MessageKey"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "from": {
                                "$ref": "#/components/schemas/EmailAddress"
                            },
                            "to": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/EmailAddress"
                                }
                            },
                            "subject": {
                                "type": "string"
                            },
                            "date": {
                                "type": "string"
                            },
                            "seen": {
                                "type": "boolean"
                            },
                            "answered": {
                                "type": "boolean"
                            },
                            "draft": {
                                "type": "boolean"
                            },
                            "flagged": {
                                "type": "boolean"
                            },
                            "recent": {
                                "type": "boolean"
                            },
                            "references": {
                                "type": "string"
                            },
                            "messageId": {
                                "type": "string"
                            },
                            "size": {
                                "type": "integer"
                            },
                            "hasAttachments": {
                                "type": "boolean"
                            }
                        },
                        "required": [
                            "draft"
                        ]
                    }
                ],
                "description": "A `MessageItem` represents the base structure for message item entities.\n`MessageItem`s must always provide the `mailAccountId`, `mailFolderId`, and `id` to uniquely identify them. ",
                "title": "MessageItem",
                "x-examples": {
                    "MessageItem": {
                        "id": "string",
                        "mailAccountId": "string",
                        "mailFolderId": "string",
                        "from": {
                            "address": "string",
                            "name": "string"
                        },
                        "to": [
                            {
                                "address": "string",
                                "name": "string"
                            }
                        ],
                        "subject": "string",
                        "date": "string",
                        "seen": true,
                        "answered": true,
                        "draft": true,
                        "flagged": true,
                        "recent": true,
                        "references": "string",
                        "messageId": "string"
                    }
                }
            },
            "ListMessageItem": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/MessageItem"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "previewText": {
                                "type": "string"
                            }
                        }
                    }
                ],
                "description": "A `ListMessageItem` represents a single Message containing envelope information and a `previewText` attribute for previewing the contents of the message. ",
                "title": "ListMessageItem",
                "x-examples": {
                    "Single ListMessageItem": {
                        "id": "string",
                        "mailAccountId": "string",
                        "mailFolderId": "string",
                        "from": {
                            "address": "string",
                            "name": "string"
                        },
                        "to": [
                            {
                                "address": "string",
                                "name": "string"
                            }
                        ],
                        "subject": "string",
                        "date": "string",
                        "seen": true,
                        "answered": true,
                        "draft": true,
                        "flagged": true,
                        "recent": true,
                        "references": "string",
                        "messageId": "string",
                        "previewText": "string"
                    }
                }
            },
            "putMessageItemResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/MessageKey"
                    }
                ],
                "type": "object",
                "properties": {
                    "seen": {
                        "type": "boolean"
                    },
                    "flagged": {
                        "type": "boolean"
                    }
                }
            },
            "moveMessageItemResponse": {
                "type": "object",
                "properties": {
                    "success": {
                        "type": "boolean"
                    },
                    "data": {
                        "$ref": "#/components/schemas/MessageItem"
                    }
                },
                "x-examples": {}
            },
            "MessageKey": {
                "type": "object",
                "description": "A composite key that consists of the attributes `mailAccountId`, `mailFolderId` and `id`. Uniquely identifies a message-entity occurrence. ",
                "title": "MessageKey",
                "x-examples": {
                    "MessageKey example": {
                        "id": "123",
                        "mailAccountId": "conjoon",
                        "mailFolderId": "INBOX"
                    }
                },
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "mailAccountId": {
                        "type": "string"
                    },
                    "mailFolderId": {
                        "type": "string"
                    }
                }
            },
            "EmailAddress": {
                "title": "EmailAddress",
                "type": "object",
                "description": "An object representing an Email-address, including the address and a name.",
                "properties": {
                    "address": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                },
                "x-examples": {
                    "EmailAddress example": {
                        "address": "demo@conjoon.org",
                        "name": "conjoon maintainer"
                    }
                }
            },
            "Attachment": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/AttachmentKey"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "downloadUrl": {
                                "type": "string",
                                "description": "The download uri for the attachment the client understands, e.g. a data uri."
                            },
                            "previewImgSrc": {
                                "type": "string",
                                "description": "A computed src for a preview of the attachment the client understands, e.g. a data uri."
                            },
                            "size": {
                                "type": "string",
                                "description": "The size of the attachment in bytes."
                            },
                            "text": {
                                "type": "string",
                                "description": "The name of the attachment, e.g. the file name."
                            },
                            "type": {
                                "type": "string",
                                "description": "The mime type of the attachment."
                            }
                        }
                    }
                ],
                "description": "Attachment data to be returned by the API to the requesting client."
            },
            "AttachmentKey": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/MessageKey"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "parentMessageItemId": {
                                "type": "string"
                            }
                        }
                    }
                ],
                "description": "A composite key that consists of the attributes `mailAccountId`, `mailFolderId`, `id` and `parentMessageItemId`. Uniquely identifies an attachment belonging to a MessageItem. "
            }
        },
        "securitySchemes": {
            "BasicAuth": {
                "type": "http",
                "scheme": "basic"
            }
        },
        "responses": {
            "putMessageItemResponse": {
                "description": "Example response",
                "content": {
                    "application/json": {
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/components/schemas/MessageKey"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "seen": {
                                            "type": "boolean"
                                        },
                                        "flagged": {
                                            "type": "boolean"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "moveMessageItemResponse": {
                "description": "Example response",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "success": {
                                    "type": "boolean"
                                },
                                "data": {
                                    "$ref": "#/components/schemas/MessageItem"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "security": [
        {
            "BasicAuth": []
        }
    ]
}