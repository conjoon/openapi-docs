{
  "openapi": "3.0.0",
  "info": {
    "contact": {
      "name": "conjoon Open Source Project",
      "url": "https://conjoon.org",
      "email": "thorsten@suckow-homberg.de"
    },
    "version": "0",
    "title": "conjoon/rest-api-email",
    "license": {
      "name": "MIT",
      "url": "https://github.com/conjoon/rest-api-description"
    },
    "description": "Lightweight REST API specification for communicating with email services, including reading, writing and sending messages. Protocol agnostic.\n\n## A note about Messages:\nThe **rest-api-email** considers 3 different entities which are tightly related when handling messages:\n - MessageItem/MessageDraft\n - MessageBody\n - Attachments\nEach entity can be identified a compound key that contains the following information:\n - mailAccountId\n - mailFolderId\n - id\n Additionally, Attachments have a `parentMessageItemId`-key fragment that represents the `id` of the owning message.\n While a `MessageItem`/`MessageDraft` is considered to be the \"root\"-entity of a message, implementing APIs have to take care of handling all key information and update related entities accordingly after any action requested.\n \nExample:\n<br>\nThe client requests the `subject` of a message to change. The server responds with a newly created `id` for the message (e.g. with IMAP, a message can not directly be edited under a UID that persists accross changes). The client **MUST** now consider **ALL** related entities of the message have been updated on the server, and has to apply the updated key information to all entities involved on the client itself, if applicable (e.g. an opened MessageBody in an editor).  "
  },
  "servers": [
    {
      "url": "{protocol}://{hostname}/rest-api-email/api/v0",
      "variables": {
        "hostname": {
          "description": "Self-hosted Server",
          "default": "HOSTNAME"
        },
        "protocol": {
          "description": "Self-hostedServer protocol",
          "default": "https"
        }
      },
      "description": "example server"
    }
  ],
  "paths": {
    "/MailAccounts": {
      "get": {
        "tags": [
          "MailAccounts"
        ],
        "summary": "Lists mail accounts",
        "description": "Returns a list of all available `MailAccounts` for the client.",
        "operationId": "getMailAccounts",
        "responses": {
          "200": {
            "description": "List of available `MailAccounts`.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MailAccount_ResourceObject"
                      }
                    }
                  }
                },
                "examples": {}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/401-Unauthorized"
          }
        }
      }
    },
    "/MailAccounts/{mailAccountId}/MailFolders": {
      "get": {
        "tags": [
          "MailFolders"
        ],
        "summary": "List mail boxes",
        "description": "Returns a list of available mail boxes for the client and the `MailAccount`.",
        "operationId": "getMailFolders",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of all `MailFolders` for the authenticated client available within the specified `MailAccount`.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MailFolder_ResourceObject"
                      }
                    }
                  }
                },
                "examples": {}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/401-Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/404-NotFound"
          }
        }
      }
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems": {
      "get": {
        "tags": [
          "MessageItem"
        ],
        "summary": "Get a collection of envelope information of messages",
        "description": "Returns a list of all available `MessageItem`s for the `MailFolder` identified by `mailFolderId` belonging to the `MailAccount` identified by `mailAccountId` for the requesting client. \nThe list of `MessageItem`s returned is in the boundaries of `start` and `start + limit`; `unreadMessages` and `totalMessages` of the related `MailFolder` can be obtained by requesting a compount document that _includes_ the `MailFolders`-relationship data. \n\n### Query Parameters\n\n\n### `limit`\nA client must explicitly set `limit` to -1 if **ALL** items should be returned. `limit` is only considered if no filter with the property `id` is found.\n\n### Sparse Fieldset with `fields[MessageItem]`\n\nAllows to define the attributes to return with a `MessageItem`. Defaults to `*` which means all attributes of a `MessageItem` are included.\nTo exclude attributes, append a comma-separated list with the names of attributes to exclude:\n\n**Example:** _All attributes are included (default)_\n```\n?fields[MessageItem]=* \n```\n\n**Example:** _Only `previewText` will be included in the set of attributes_\n```\n?fields[MessageItem]=previewText \n```\n\n**Example:** _`subject` and `previewText` will not be included in the set of attributes_\n```\n?fields[MessageItem]=*,previewText,subject \n```\n\n### Include Folder Data with `include` \n\nTo include the data of the owning `MailFolder`, use the query parameter `include` set to `MailFolder`. \n**Example:**\n```\n?include=MailFolder\n```\n\n#### Sparse Fieldset of Folder Data with `fields[MailFolder]` \nAllows to define the attributes to return with a related `MailFolder`. To only return the fields `unreadMessages` and `totalMessages`, add the query parameter `fields[MailFolder]` set to `unreadMessages,totalMessages`.\n**Example:**\n```\n?include=MailFolder&fields[MailFolder]=unreadMessages,totalMessages\n```\n  \n### `filter`\n\nA **json-encoded** string providing additional filter to consider. Must be an array of filter-objects. Multiple filter objects are considered as logical `OR` conditionals.\nIf the server does not understand the filter, a 400-response **MUST** be returned.\nTo group `filter` as logical `AND`, use Arrays of Arrays.\n\n\n#### Filter configuration\n- `property`\n    <br>The `property`-key **SHOULD** be an attribute the server understands.\n- `value`\n    <br>The `value`-key **SHOULD** be a a value for the `property`. The format is arbitrary.\n- `operator`\n    <br>The `operator`-key **SHOULD** be the operator that is used for comparing a list of data with the `property`s `value`. The default operator used is `=`\n         <br>(The following examples use json-decoded data for demonstration purposes.)\n         <br>\n    **Example:** _Getting messages flagged as `recent`._\n    ```\n    ?filter=[{\"property\": \"recent\", \"value\": true}]\n    ```\n    **Example:** _Getting messages flagged as `recent`, **OR** messages flagged as `unseen` with an `id` greater than 1657._\n    ```\n    ?filter=[{\"property\": \"recent\", \"value\": true}, [{\"property\": \"unseen\", \"value\": true}, {\"property\": \"id\", \"value\": 1657, \"operator\": \">\"}]]\n    ```\n    **Example:** _Getting only a specific set of messages based on their `id`s:\n    ```\n    ?filter=[{\"property\": \"id\", \"value\": [\"89678\", \"45\", \"98798\"], \"operator\": \"in\"}]\n    ```\n\n\n\n### `options`\n\nA **json-encoded** string providing additional options for the attributes.\n\n- `previewText`\n    <br>The `previewText`-attribute **MUST** be allowed to be configured with:\n           <br> - `length` this allows to specify the length of the `previewText` to return\n    <br>The `previewText`-attribute **MUST NOT**, but **SHOULD**,  be allowed to be configured with:\n           <br> - `trimApi` if `length` is specified, `trimApi` requests the implementing backend to read out the complete text before trimming it. This can prevent charset decoding issues, but increases load-times (defaults to `false`).\n           <br> apply options to `html`/`plain`: If the backend supports it, the client should be able to chose which content type of the message should be previewed. The option `precedence` should be submitted to tell which content type should be preferred. A lookup for the other content type is then skipped. \n           <br>(The following examples use json-decoded data for demonstration purposes.)\n    \n    **Example:** _Preview Text is returned with a max. of 200 characters._\n    ```\n    ?options={previewText: {length:200}} \n    ```\n    **Example:** _Preview Text is returned with a max. of 200 characters, trimming should be done by the backend._\n    ```\n    ?options={previewText: {length:200, trimApi: true}} \n    ```\n    **Example:** _Preview Text configured to first look up content type `plain`, then content type `html` to generate the previewText:_\n    ```\n    ?options={previewText: {plain: {length: 200, trimApi: true, precedence: true}}, {html: {length: 200, trimApi: true}} \n    ``` \n    \n    If `plain` and `html` are omitted, the options configured for `previewText` should be internally get applied to both content types.\n    **Default**: The `previewText`s default setting should be, if nothing else specified:\n    ```json\n      previewText: {\n        plain: {\n            precedence: true,\n            length: 200,\n            trimApi: true\n        },\n        html: {\n            length: 200,\n            trimApi: true\n        }\n    }\n    ```\n    \n##### Ignored Options\nif a field is excluded, any value found in `options` referring to it will be ignored.",
        "operationId": "getMessageItems",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          },
          {
            "name": "start",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            },
            "description": "The index of the first item to return",
            "allowEmptyValue": true
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": -1
            },
            "description": "The number of items to return. Only considered when `ids` is not specified. If no limit is required by the client, it must be explicitly set to -1"
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string",
              "example": "'[{\"property\":\"date\",\"direction\":\"DESC\"}]'",
              "default": "'[{\"property\":\"date\",\"direction\":\"DESC\"}]'"
            },
            "description": "A json-encoded object containing one or multiple sort information"
          },
          {
            "schema": {
              "type": "string",
              "example": "fields[MessageItem]=*,previewText"
            },
            "in": "query",
            "name": "fields[MessageItem]",
            "description": "A comma separated list of fields of this entity to include in the response"
          },
          {
            "schema": {
              "type": "string",
              "example": "'{\"previewText\":{\"plain\":{\"precedence\":true,length\":200,\"trimApi\":true},html\":{\"length\":200,\"trimApi\":true}}}'",
              "default": "'{\"previewText\":{\"plain\":{\"precedence\":true,length\":200,\"trimApi\":true},html\":{\"length\":200,\"trimApi\":true}}}'"
            },
            "in": "query",
            "name": "options",
            "description": "A json-encoded object containing additional options for the resource lookup."
          },
          {
            "schema": {
              "type": "string",
              "example": "'[{\"property\": \"recent\", \"value\": true}]'"
            },
            "in": "query",
            "name": "filter",
            "description": "A json encoded array of filter objects to send to the server. "
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "include",
            "description": "A comma-separated list of resources related to the primary resource that should be included with the response"
          },
          {
            "schema": {
              "type": "string",
              "example": "fields[MailFolder]=unreadMessages,totalMessages"
            },
            "in": "query",
            "name": "fields[MailFolder]",
            "description": "A comma separated list of fields of this entity to include in the response"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of MessageItems. ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MessageItem_ResourceObject_incl"
                      }
                    }
                  }
                },
                "examples": {
                  "?include=MailFolder&fields[MessageItem]=*,previewText&fields[MailFolder]=unreadMessages,totalMessages": {
                    "value": {
                      "data": [
                        {
                          "id": "string",
                          "type": "MessageItem",
                          "attributes": {
                            "from": {
                              "address": "string",
                              "name": "string"
                            },
                            "to": [
                              {
                                "address": "string",
                                "name": "string"
                              }
                            ],
                            "cc": [
                              {
                                "address": "string",
                                "name": "string"
                              }
                            ],
                            "bcc": [
                              {
                                "address": "string",
                                "name": "string"
                              }
                            ],
                            "replyTo": {
                              "address": "string",
                              "name": "string"
                            },
                            "date": "string",
                            "subject": "string",
                            "seen": true,
                            "answered": true,
                            "draft": true,
                            "flagged": true,
                            "recent": true,
                            "references": "string",
                            "messageId": "string",
                            "size": 0,
                            "hasAttachments": true
                          },
                          "relationships:": {
                            "MailFolder": {
                              "data": {
                                "id": "INBOX",
                                "type": "MailFolder"
                              }
                            }
                          }
                        }
                      ],
                      "included": [
                        {
                          "id": "INBOX",
                          "type": "MailFolder",
                          "attributes": {
                            "unreadMessages": 12,
                            "totalMessages": 40
                          },
                          "relationships": {
                            "MailAccount": {
                              "data": {
                                "id": "gmail",
                                "type": "MailAccount"
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400-BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/401-Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/403-Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/404-NotFound"
          }
        }
      },
      "post": {
        "tags": [
          "MessageDraft"
        ],
        "summary": "Create a new message",
        "description": "Creates a new `MessageItem` and implicitly makes a `MessageBody` available with this resource. The data is stored in the `MailFolder` for the `MailAccount`, both specified in the path parameter.\n\n## JSON-Body \n\n### `data.type`-field\nThe body needs to contain the `type`-field set to `MessageItem`\n\n### `data.relationships`\nThis field is expected to contain a resource identifier for the owning `MailFolder`, and must be provided as a resource object in `meta.included`.\n\n### `meta.included`\nAn array containing the resource object mentioned in `data.relationships`, along with a resource identifier to the owning `MailAccount`.\n\n## Query parameters\n\n### Include Folder Data with `include` \n\nTo include the data of the owning `MailFolder` with the response, use the query parameter `include` set to `MailFolder`. \n**Example:**\n```\n?include=MailFolder\n```\n\n#### Sparse Fieldset of Folder Data with `fields[MailFolder]` \nAllows to define the attributes to return with a related `MailFolder`. To only return the fields `unreadMessages` and `totalMessages`, add the query parameter `fields[MailFolder]` set to `unreadMessages,totalMessages`.\n**Example:**\n```\n?include=MailFolder&fields[MailFolder]=unreadMessages,totalMessages\n```\nFor creating a new `MessageBody`, providing an empty value for `fields[MailFolder]` is suggested. This will only return the relationship data along with the relationship information for the owning `MailAccount`.\n\n```\n?include=MailFolder&fields[MailFolder]=\n```\n\n## A note on error responses\nFor creating a new message, the server **MUST** compare the data found in the `relationships` and `included` fields against the data available with the path parameters. A `400 Bad Request` **MUST** be returned by the server if the data found therin is not euqlly the same. ",
        "operationId": "postMessageDraft",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "include",
            "description": "The related resources to return with the response. Allowed value is \"MailFolder\""
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "fields[MailFolder]",
            "description": "The fields of the included MailFolder to return. "
          }
        ],
        "responses": {
          "201": {
            "description": "The created MessageBody",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/MessageItem_ResourceObject_incl"
                    },
                    "included": {
                      "$ref": "#/components/schemas/MailFolder_ResourceObject"
                    }
                  },
                  "required": [
                    "data"
                  ]
                }
              }
            },
            "headers": {
              "Location": {
                "schema": {
                  "type": "string"
                },
                "description": "identifies the location of the newly created MessageBody"
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400-BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/401-Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/403-Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/404-NotFound"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "$ref": "#/components/schemas/MessageItem_ResourceObject_incl"
                  },
                  "meta": {
                    "type": "object",
                    "properties": {
                      "included": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/MailFolder_ResourceObject_incl"
                        }
                      }
                    }
                  }
                }
              },
              "examples": {}
            }
          },
          "description": ""
        }
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        }
      ]
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}": {
      "get": {
        "tags": [
          "MessageItem"
        ],
        "summary": "Return envelope information of a single message",
        "description": "Returns the single `MessageItem`.\nThe API does not distinguish betweenrequesting a `MessageDraft` or a `MessageItem`, since envelope informations are all the same. It is up to the client to render the information given the specific context (i.e. read or edit).\n\n### Query Parameters\n\n### Sparse Fieldset with `fields[MessageItem]`\n\nAllows to define the attributes to return with a `MessageItem`. Defaults to `*` which means all attributes of a `MessageItem` are included.\nTo exclude attributes, append a comma-separated list with the names of attributes to exclude:\n\n**Example:** _All attributes are included (default)_\n```\n?fields[MessageItem]=* \n```\n\n**Example:** _Only `hasAttachments` will be included in the set of attributes_\n```\n?fields[MessageItem]=hasAttachments\n```\n\n**Example:** _`subject` and `previewText` will not be included in the set of attributes_\n```\n?fields[MessageItem]=*,previewText,subject \n```",
        "operationId": "getMessageItem",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          },
          {
            "$ref": "#/components/parameters/messageItemId"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "attributes",
            "description": "The list of attributes to include or exclude for the message item. * retrieves all, * followed by attribute names excludes the specified attributes. Attributes only w/o * returns only the specified attributes."
          }
        ],
        "responses": {
          "200": {
            "description": "The `MessageItem` found at the resource location.  ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/MessageItem_ResourceObject"
                    }
                  }
                },
                "examples": {
                  "MessageItem Response": {
                    "value": {
                      "data": {
                        "id": "string",
                        "type": "MessageItem",
                        "relationships": {
                          "MailFolder": {
                            "data": {
                              "id": "string",
                              "type": "MailFolder",
                              "relationships": {
                                "MailAccount": {
                                  "data": {
                                    "id": "string",
                                    "type": "MailAccount"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "attributes": {
                          "from": {
                            "address": "string",
                            "name": "string"
                          },
                          "to": [
                            {
                              "address": "string",
                              "name": "string"
                            }
                          ],
                          "cc": [
                            {
                              "address": "string",
                              "name": "string"
                            }
                          ],
                          "bcc": [
                            {
                              "address": "string",
                              "name": "string"
                            }
                          ],
                          "replyTo": {
                            "address": "string",
                            "name": "string"
                          },
                          "date": "string",
                          "subject": "string",
                          "seen": true,
                          "answered": true,
                          "draft": true,
                          "flagged": true,
                          "recent": true,
                          "references": "string",
                          "messageId": "string",
                          "size": 0,
                          "hasAttachments": true,
                          "previewText": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the MessageItem with the specified messageItemId does not exist."
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error."
          }
        }
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "messageItemId",
          "in": "path",
          "required": true
        }
      ],
      "delete": {
        "summary": "Delete a message",
        "operationId": "deleteMessage",
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the MessageItem does not exist."
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error."
          }
        },
        "description": "Entirely deletes a Message, including all associated `Attachments` and the `MessageBody`.",
        "tags": [
          "MessageItem"
        ]
      },
      "post": {
        "summary": "Send a message",
        "operationId": "sendMessageDraft",
        "responses": {
          "200": {
            "description": "OK - if the message was sent, a `200` status code is returned with the response."
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the Message does not exist."
          },
          "405": {
            "description": "Method Not Allowed - If the Message is not flagged as `DRAFT`"
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error."
          }
        },
        "description": "Sends the message represented by the Path Params. The message must be flagged as `DRAFT` in order for the operation to succeed.\n\nThe `POST`-operation does not require any parameters.\n\nSending a message means that a server-connection configured with the `MailAccount` was established and the data of the message was successfully assembled to meet the server's protocol-requirements for sending it. If the response represents a successful operation, implementing clients can then take care of deleting the sent message from its source folder and/or move/copy it to a new destination folder (e.g. _Sent_-folder), if applicable.",
        "tags": [
          "MessageItem"
        ]
      }
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}/MessageItem": {
      "patch": {
        "tags": [
          "MessageItem"
        ],
        "summary": "Move/Flag a message",
        "description": "Updates the specific `MessageItem` with the submitted information.\nThe client can move a message to a different MailFolder by explicitely submitting a `relationships` member.\n\nIt is possible that the server decides to store the message under a new `id`. The updated relationships are available with the response.\n\n**Note:**\nIf fields of a message are updated and its id changes, the backend **MUST** consider the new resource location for all related entities of **THIS** message, such as its body and its attachments. The client has to take care of applying the updated relationships to existing entities currently used in memory, either dynamically or by triggering a complete reload of the updated message.",
        "operationId": "putMessageItem",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          },
          {
            "$ref": "#/components/parameters/messageItemId"
          }
        ],
        "responses": {
          "200": {
            "description": "The updated message information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/moveMessageItemResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the MessageItem does not exist."
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error."
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "required": [
                      "type",
                      "id",
                      "attributes"
                    ],
                    "properties": {
                      "type": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "attributes": {
                        "type": "object",
                        "properties": {
                          "draft": {
                            "type": "boolean"
                          },
                          "flagged": {
                            "type": "boolean"
                          },
                          "seen": {
                            "type": "boolean"
                          }
                        }
                      },
                      "relationships": {
                        "type": "object",
                        "properties": {
                          "MailFolders": {
                            "$ref": "#/components/schemas/MailFolder_ResourceLinkage"
                          }
                        },
                        "required": [
                          "MailFolders"
                        ]
                      }
                    }
                  }
                },
                "required": [
                  "data"
                ]
              },
              "examples": {}
            }
          },
          "description": ""
        }
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "messageItemId",
          "in": "path",
          "required": true
        }
      ]
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}/MessageDraft": {
      "patch": {
        "tags": [
          "MessageItem"
        ],
        "summary": "Updates a message as a draft",
        "description": "Updates the specific `MessageDraft` with the submitted information.\nIt is possible that the server decides to store the message under a new `id`. The updated relationships are available with the response.\n\n**Note:**\nIf fields of a message are updated and its id changes, the backend **MUST** consider the new resource location for all related entities of **THIS** message, such as its body and its attachments. The client has to take care of applying the updated relationships to existing entities currently used in memory, either dynamically or by triggering a complete reload of the updated message.",
        "operationId": "putMessageDraft",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          },
          {
            "$ref": "#/components/parameters/messageItemId"
          }
        ],
        "responses": {
          "200": {
            "description": "The updated message information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/moveMessageItemResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the MessageItem does not exist."
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error."
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/MessageItem_ResourceIdentifier"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "attributes": {
                            "type": "object",
                            "properties": {
                              "to": {
                                "type": "string",
                                "description": "JSON-encoded representation of an EmailAddress"
                              },
                              "cc": {
                                "type": "string",
                                "description": "JSON-encoded representation of a list of EmailAddresses"
                              },
                              "bcc": {
                                "type": "string",
                                "description": "JSON-encoded representation of a list of EmailAddresses"
                              },
                              "date": {
                                "type": "string",
                                "description": "client's UNIX Timestamp representing date of creation "
                              },
                              "draft": {
                                "type": "boolean"
                              },
                              "flagged": {
                                "type": "boolean"
                              },
                              "from": {
                                "type": "string",
                                "description": "JSON-encoded representation of an EmailAddress"
                              },
                              "inReplyTo": {
                                "type": "string"
                              },
                              "references": {
                                "type": "string"
                              },
                              "replyTo": {
                                "type": "string",
                                "description": "JSON-encoded representation of an EmailAddress"
                              },
                              "seen": {
                                "type": "boolean"
                              },
                              "subject": {
                                "type": "string"
                              },
                              "xCnDraftInfo": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "required": [
                          "attributes"
                        ]
                      }
                    ]
                  }
                },
                "required": [
                  "data"
                ]
              },
              "examples": {
                "updating a MessageDraft with a new subject": {
                  "value": {
                    "data": {
                      "type": "MessageDraft",
                      "mailAccountId": "dev",
                      "mailFolderId": "INBOX.Drafts",
                      "id": "234424",
                      "attributes": {
                        "subject": "Hello World"
                      }
                    }
                  }
                }
              }
            }
          },
          "description": ""
        }
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "messageItemId",
          "in": "path",
          "required": true
        }
      ]
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{messageItemId}/MessageBody": {
      "get": {
        "tags": [
          "MessageBody"
        ],
        "summary": "Returns a MessageBody.",
        "description": "Returns the single `MessageBody` for the specified key fragments.",
        "operationId": "getMessageBody",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          },
          {
            "$ref": "#/components/parameters/messageItemId"
          }
        ],
        "responses": {
          "200": {
            "description": "The `MessageBody` found for the specified `mailAccountId`, `mailFolderId` and `messageItemId`",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/MessageBody_ResourceObject"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the `MessageBody` for the specified specified `mailAccountId`, `mailFolderId` and `messageItemId` does not exist."
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error."
          }
        }
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "messageItemId",
          "in": "path",
          "required": true
        }
      ],
      "patch": {
        "summary": "Update a MessageBody.",
        "operationId": "updateMessageBody",
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request - the client sent a request the API could not understand"
          },
          "401": {
            "description": "Unauthorized - the client is not authenticated."
          },
          "403": {
            "description": "Forbidden - the resource may not be accessed by the client."
          },
          "404": {
            "description": "Not Found - if the MessageBody does not exist."
          },
          "500": {
            "description": "Internal Server Error - if the implementing API encountered an internal error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "number"
                    },
                    "detail": {
                      "type": "string"
                    },
                    "title": {
                      "type": "string"
                    },
                    "instance": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "MessageBody"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "required": [
                      "type",
                      "mailAccountId",
                      "mailFolderId",
                      "id",
                      "attributes"
                    ],
                    "properties": {
                      "type": {
                        "type": "string"
                      },
                      "mailAccountId": {
                        "type": "string"
                      },
                      "mailFolderId": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "attributes": {
                        "type": "object",
                        "properties": {
                          "textPlain": {
                            "type": "string"
                          },
                          "textHtml": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "required": [
                  "data"
                ]
              },
              "examples": {
                "Updating a MessageBody": {
                  "value": {
                    "data": {
                      "type": "MessageBody",
                      "mailAccountId": "dev",
                      "mailFolderId": "INBOX.Drafts",
                      "id": "324234",
                      "attributes": {
                        "textPlain": "Hello World",
                        "textHtml": "<b>Hello World</b>"
                      }
                    }
                  }
                }
              }
            }
          },
          "description": ""
        },
        "description": "Updates the `MessageBody` of the message represented by the key fragments."
      }
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{parentMessageItemId}/Attachments": {
      "get": {
        "summary": "Get a list of attachments",
        "description": "Returns a list of all `FileAttachmentItem`s for the MailAccount with the specified `mailAccountId` and `mailFolderId`. \n<br>\n**The fields `mailFolderId`, `mailAccountId`, `parentMessageitemId` and `id` must always be available with the response, for each returned entity.**\n",
        "operationId": "getAttachmentList",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of FileAttachmentItems. ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Attachment_ResourceObject"
                      }
                    },
                    "included": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MessageItem_ResourceObject_incl"
                      }
                    }
                  }
                },
                "examples": {
                  "Attachment response example": {
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "1",
                          "mailAccountId": "siteartwork",
                          "mailFolderId": "INBOX",
                          "parentMessageItemId": "181317",
                          "type": "image/png",
                          "text": "newmail.png",
                          "size": 21884,
                          "downloadUrl": "data:image/png;base64,longstring",
                          "previewImgSrc": "data:image/png;base64,longstring"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Attachments"
        ]
      },
      "post": {
        "summary": "Create new attachments",
        "description": "Creates new Attachments for the specified MessageItem.",
        "operationId": "postAttachment",
        "parameters": [
          {
            "$ref": "#/components/parameters/mailAccountId"
          },
          {
            "$ref": "#/components/parameters/mailFolderId"
          }
        ],
        "responses": {
          "200": {
            "description": "The created attachments as a list of FileAttachmentItems",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Attachment_ResourceObject"
                    }
                  }
                }
              },
              "application/x-www-form-urlencoded": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "text": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "localId": {
                          "type": "string"
                        },
                        "mailAccountId": {
                          "type": "string"
                        },
                        "mailFolderId": {
                          "type": "string"
                        },
                        "parentMessageItemId": {
                          "type": "string"
                        },
                        "blob": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              },
              "examples": {
                "Payload example": {
                  "value": {
                    "data[0][text]": "streamdeck_key (16).png",
                    "data[0][type]": "image/png",
                    "file[0][0]": "(binary)",
                    "data[0][localId]": "DraftAttachment-1",
                    "data[0][mailAccountId]": "siteartwork",
                    "data[0][mailFolderId]": "INBOX.Drafts",
                    "data[0][parentMessageItemId]": "561"
                  }
                }
              }
            }
          },
          "description": "The form data for an attachment file."
        },
        "tags": [
          "Attachments"
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "parentMessageItemId",
          "in": "path",
          "description": "the id of the owning message",
          "required": true
        }
      ]
    },
    "/MailAccounts/{mailAccountId}/MailFolders/{mailFolderId}/MessageItems/{parentMessageItemId}/Attachments/{id}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "mailAccountId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "mailFolderId",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "parentMessageItemId",
          "in": "path",
          "description": "the id of the owning message",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "the id of the referenced attachment"
        }
      ],
      "delete": {
        "summary": "Delete an attachment",
        "operationId": "deleteAttachment",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Indicates the successful deletion of an attachment.",
                      "default": true,
                      "readOnly": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/MessageItem_ResourceIdentifier"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false,
                      "readOnly": true
                    },
                    "data": {
                      "nullable": true
                    }
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        },
        "parameters": [],
        "description": "Deletes the attachment with the given id. The data returned is the key of the owning message, containing the **updated key information**: If deleting the attachment triggered the owning resource to change its location, the updated key must reflect this.   ",
        "tags": [
          "Attachments"
        ]
      }
    }
  },
  "tags": [
    {
      "name": "MailAccounts",
      "description": "Endpoints related to reading MailAccounts"
    },
    {
      "name": "MessageDraft",
      "description": "Endpoints related to reading/writing MessageDrafts"
    },
    {
      "name": "MessageItems",
      "description": "Endpoints related to receiving lists of MessageItems"
    },
    {
      "name": "MessageItem",
      "description": "Endpoints related to reading/writing a single MessageItem"
    },
    {
      "name": "MessageBody",
      "description": "Endpoints related to reading/writing a single MessageBody"
    },
    {
      "name": "MailFolders",
      "description": "Endpoints related to reading MailFolders"
    }
  ],
  "components": {
    "parameters": {
      "mailAccountId": {
        "name": "mailAccountId",
        "in": "path",
        "required": true,
        "description": "An id of a MailAccount that should be targeted for the operation",
        "schema": {
          "type": "string"
        }
      },
      "mailFolderId": {
        "name": "mailFolderId",
        "in": "path",
        "required": true,
        "description": "An id of the MailFolder that should be targeted for the operation",
        "schema": {
          "type": "string"
        }
      },
      "messageItemId": {
        "name": "messageItemId",
        "in": "path",
        "required": true,
        "description": "The id of the MessageItem that should be targeted for the operation",
        "schema": {
          "type": "string"
        }
      }
    },
    "schemas": {
      "MailAccount_ResourceObject": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MailAccount_ResourceIdentifier"
          },
          {
            "type": "object",
            "properties": {
              "attributes": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "folderType": {
                    "type": "string"
                  },
                  "from": {
                    "type": "string"
                  },
                  "replyTo": {
                    "type": "string"
                  },
                  "inbox_address": {
                    "type": "string"
                  },
                  "inbox_port": {
                    "type": "string"
                  },
                  "inbox_user": {
                    "type": "string"
                  },
                  "inbox_password": {
                    "type": "string"
                  },
                  "inbox_ssl": {
                    "type": "boolean"
                  },
                  "outbox_address": {
                    "type": "string"
                  },
                  "outbox_port": {
                    "type": "string"
                  },
                  "outbox_user": {
                    "type": "string"
                  },
                  "outbox_password": {
                    "type": "string"
                  },
                  "outbox_secure": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "x-examples": {},
        "title": "MailAccount (Resource Object)",
        "description": "Resource Object representing a `MailAccount`."
      },
      "MailFolder_ResourceObject": {
        "description": "Resource Object representing a `MailFolder`. Contains a Resource Linkage to the owning `MailAccount` in its `relationships` member.",
        "allOf": [
          {
            "$ref": "#/components/schemas/MailFolder_ResourceIdentifier"
          },
          {
            "type": "object",
            "properties": {
              "attributes": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "folderType": {
                    "type": "string"
                  },
                  "unreadMessages": {
                    "type": "integer"
                  },
                  "totalMessages": {
                    "type": "integer"
                  },
                  "data": {
                    "description": "List of child mail folders, if any. May be empty.",
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/MailFolder_ResourceObject"
                    }
                  }
                }
              }
            }
          },
          {
            "type": "object",
            "properties": {
              "relationships": {
                "type": "object",
                "required": [
                  "MailAccount"
                ],
                "properties": {
                  "MailAccount": {
                    "$ref": "#/components/schemas/MailAccount_ResourceLinkage"
                  }
                }
              }
            },
            "required": [
              "relationships"
            ]
          }
        ],
        "x-examples": {},
        "title": "MailFolder (Resource Object)"
      },
      "MailFolder_ResourceObject_incl": {
        "description": "Resource Object representing a `MailFolder` for compound documents w/o `attributes`.",
        "allOf": [
          {
            "$ref": "#/components/schemas/MailFolder_ResourceIdentifier"
          },
          {
            "type": "object",
            "properties": {
              "relationships": {
                "$ref": "#/components/schemas/MailAccount_ResourceLinkage"
              }
            }
          }
        ],
        "x-examples": {},
        "title": "MailFolder (Resource Object w/o attributes)"
      },
      "MessageItem_ResourceObject": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MessageItem_ResourceIdentifier"
          },
          {
            "type": "object",
            "properties": {
              "attributes": {
                "type": "object",
                "properties": {
                  "from": {
                    "$ref": "#/components/schemas/EmailAddress"
                  },
                  "to": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EmailAddress"
                    }
                  },
                  "cc": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EmailAddress"
                    }
                  },
                  "bcc": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EmailAddress"
                    }
                  },
                  "replyTo": {
                    "$ref": "#/components/schemas/EmailAddress"
                  },
                  "date": {
                    "type": "string"
                  },
                  "subject": {
                    "type": "string"
                  },
                  "seen": {
                    "type": "boolean"
                  },
                  "answered": {
                    "type": "boolean"
                  },
                  "draft": {
                    "type": "boolean"
                  },
                  "flagged": {
                    "type": "boolean"
                  },
                  "recent": {
                    "type": "boolean",
                    "readOnly": true
                  },
                  "references": {
                    "type": "string"
                  },
                  "messageId": {
                    "type": "string",
                    "readOnly": true
                  },
                  "size": {
                    "type": "integer",
                    "readOnly": true
                  },
                  "hasAttachments": {
                    "type": "boolean",
                    "readOnly": true
                  },
                  "previewText": {
                    "type": "string",
                    "readOnly": true
                  }
                }
              }
            }
          }
        ],
        "description": "Models envelope information of message items.\nProvides a Resource Linkage to the owning `MailFolder`.",
        "title": "MessageItem_ResourceObject",
        "x-examples": {}
      },
      "MessageItem_ResourceObject_incl": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MessageItem_ResourceObject"
          },
          {
            "type": "object",
            "properties": {
              "relationships:": {
                "type": "object",
                "properties": {
                  "MailFolder": {
                    "$ref": "#/components/schemas/MailFolder_ResourceLinkage"
                  }
                }
              }
            }
          }
        ],
        "description": "Resource Object representing a `MessageItem` for compound documents w/o `attributes`.",
        "title": "MessageItem (ResourceObject w/o attributes)",
        "x-examples": {}
      },
      "MessageBody_ResourceObject": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MessageBody_ResourceIdentifier"
          },
          {
            "type": "object",
            "properties": {
              "attributes": {
                "type": "object",
                "properties": {
                  "textHtml": {
                    "type": "string"
                  },
                  "textPlain": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "x-examples": {},
        "description": "Resource Object representing a `MessageBody`.",
        "title": "Message Body (Resource Object)"
      },
      "MessageBody_ResourceObject_incl": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MessageBody_ResourceObject"
          },
          {
            "type": "object",
            "properties": {
              "relationships": {
                "type": "object",
                "properties": {
                  "MailFolder": {
                    "$ref": "#/components/schemas/MailFolder_ResourceLinkage"
                  }
                }
              }
            }
          }
        ],
        "x-examples": {},
        "description": "Resource Object representing a `MessageBody`.",
        "title": "Message Body (Resource Object)"
      },
      "Attachment_ResourceObject": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Attachment_ResourceIdentifier"
          },
          {
            "type": "object",
            "properties": {
              "attributes": {
                "type": "object",
                "properties": {
                  "downloadUrl": {
                    "type": "string",
                    "description": "The download uri for the attachment the client understands, e.g. a data uri."
                  },
                  "previewImgSrc": {
                    "type": "string",
                    "description": "A computed src for a preview of the attachment the client understands, e.g. a data uri."
                  },
                  "size": {
                    "type": "string",
                    "description": "The size of the attachment in bytes."
                  },
                  "text": {
                    "type": "string",
                    "description": "The name of the attachment, e.g. the file name."
                  },
                  "type": {
                    "type": "string",
                    "description": "The mime type of the attachment."
                  }
                }
              }
            }
          },
          {
            "type": "object",
            "properties": {
              "relationships": {
                "type": "object",
                "properties": {
                  "MessageItem": {
                    "$ref": "#/components/schemas/MessageItem_ResourceLinkage"
                  }
                }
              }
            }
          }
        ],
        "description": "Attachment data to be returned by the API to the requesting client.",
        "title": "FileAttachmentItem"
      },
      "MailAccount_ResourceIdentifier": {
        "type": "object",
        "description": "Resource Identifier for a `MailAccount`. ",
        "title": "MailAccount_ResourceIdentifier",
        "x-examples": {},
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "type": {
            "type": "string",
            "default": "MailAccount",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "type"
        ]
      },
      "MailFolder_ResourceIdentifier": {
        "type": "object",
        "description": "Resource Identifier for a `MailFolder`. ",
        "title": "MailFolder (Resource Identifier)",
        "x-examples": {},
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "type": {
            "type": "string",
            "default": "MailFolder",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "type"
        ]
      },
      "MessageItem_ResourceIdentifier": {
        "type": "object",
        "description": "Resource Identifier for a `MessageItem`. ",
        "title": "MessageItem_ResourceIdentifier",
        "x-examples": {},
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "type": {
            "type": "string",
            "default": "MessageItem",
            "readOnly": true
          }
        }
      },
      "MessageBody_ResourceIdentifier": {
        "title": "MessageBody_ResourceIdentifier",
        "x-stoplight": {
          "id": "i0279o78op8lw"
        },
        "type": "object",
        "description": "Resource Identifier for a `MessageBody`.",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "default": "MessageBody"
          }
        }
      },
      "Attachment_ResourceIdentifier": {
        "description": "Resource Identifier for an `Attachment`. ",
        "title": "Attachment (Resource Identifier)",
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "default": "Attachment"
          }
        }
      },
      "MailAccount_ResourceLinkage": {
        "title": "MailAccount_ResourceLinkage",
        "x-stoplight": {
          "id": "3lar9glo8fii5"
        },
        "type": "object",
        "description": "Resource Linkage for a `MailAccount`.",
        "x-examples": {},
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MailAccount_ResourceIdentifier"
          }
        }
      },
      "MailFolder_ResourceLinkage": {
        "title": "MailFolder_ResourceLinkage",
        "x-stoplight": {
          "id": "6ohwpshud47fp"
        },
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MailFolder_ResourceIdentifier"
          }
        },
        "description": "Resource Linkage for a `MailFolder`."
      },
      "MessageItem_ResourceLinkage": {
        "type": "object",
        "description": "Resource Linkage for a `MessageItem`. ",
        "title": "MessageItem_ResourceLinkage",
        "x-examples": {},
        "properties": {
          "data": {
            "$ref": "#/components/schemas/MessageItem_ResourceIdentifier"
          }
        }
      },
      "putMessageItemResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MessageItem_ResourceIdentifier"
          }
        ],
        "type": "object",
        "properties": {
          "seen": {
            "type": "boolean"
          },
          "flagged": {
            "type": "boolean"
          }
        }
      },
      "moveMessageItemResponse": {
        "x-examples": {},
        "allOf": [
          {
            "properties": {
              "data": {
                "$ref": "#/components/schemas/MessageItem_ResourceObject"
              }
            }
          },
          {
            "properties": {
              "relationships": {
                "type": "object",
                "properties": {
                  "MailFolders": {
                    "$ref": "#/components/schemas/MailFolder_ResourceLinkage"
                  }
                }
              }
            }
          }
        ],
        "type": "object"
      },
      "EmailAddress": {
        "title": "EmailAddress",
        "type": "object",
        "description": "An object representing an Email-address, including the address and a name.",
        "properties": {
          "address": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "x-examples": {
          "EmailAddress example": {
            "address": "demo@conjoon.org",
            "name": "conjoon maintainer"
          }
        }
      },
      "ProblemObject": {
        "title": "Problem Object",
        "x-stoplight": {
          "id": "tshdi3r02p0cj"
        },
        "type": "object",
        "description": "Problem Object representatives according to [rfc7807](https://datatracker.ietf.org/doc/html/rfc7807). The Problem representative is being available in the structure of an Error Object according to the [JSON:API's Error Object specifications](https://jsonapi.org/format/#errors).\n\n\n## Available fields\n\n### `status`\n - Type : `int`\n \nThe HTTP status code ([RFC7231], Section 6) generated by the origin server for this occurrence of the problem.\n \n ### `title`\n -  Type: `string`\n \nA short, human-readable summary of the problem type.  It SHOULD NOT change from occurrence to occurrence of the problem, except for purposes of localization (e.g., using proactive content negotiation; see [RFC7231], Section 3.4)\n \n ### `detail`\n - Type: `string`\n \n A human-readable explanation specific to this occurrence of the problem.\n\n### `meta`\n - Type: `object`\n\n`meta` is an object that may contain the field `instance`, a URI reference that identifies the specific occurrence of the problem.  It may or may not yield further information if dereferenced.\n\n### `links`\n - Type: `object`\n\n`links` is an object that may contain the field `about`, a URI reference [RFC3986] that identifies the problem type.  This specification encourages that, when dereferenced, it provide human-readable documentation for the problem type (e.g., using HTML [W3C.REC-html5-20141028]).  When this member is not present, its value is assumed to be \"about:blank\".",
        "properties": {
          "title": {
            "type": "string"
          },
          "status": {
            "type": "integer"
          },
          "detail": {
            "type": "string"
          },
          "links": {
            "type": "object",
            "properties": {
              "about": {
                "type": "string"
              }
            }
          },
          "meta": {
            "type": "object",
            "properties": {
              "instance": {
                "type": "string"
              }
            }
          }
        },
        "x-examples": {}
      },
      "ErrorObject": {
        "title": "Error Object",
        "x-stoplight": {
          "id": "8sfbzi93abura"
        },
        "type": "object",
        "description": "## Available fields\nThe response contains [`Problems`](https://datatracker.ietf.org/doc/html/rfc7807) transformed to [`Error Objects`](https://jsonapi.org/format/#errors) according to [JSON:API](https://jsonapi.org) specifications. Each object provides additional information about problems encountered while performing an operation. \n\n### `errors`\n\n- Type: `array`\n\nThe errors object contains one error object or a list of errors that where encountered during the operation, whereas the first entry should be the most recently encountered error during the operation, and the last entry should be the least recently encountered error.",
        "properties": {
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProblemObject"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "BasicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "responses": {
      "404-NotFound": {
        "description": "# 404 Not Found\n\nThe server cannot find the requested resource.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorObject"
            }
          }
        }
      },
      "401-Unauthorized": {
        "description": "# 401 Unauthorized\n\nThe client lacks valid authentication credentials to access the resource.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorObject"
            }
          }
        }
      },
      "putMessageItemResponse": {
        "description": "Example response",
        "content": {
          "application/json": {
            "schema": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/MessageItem_ResourceIdentifier"
                },
                {
                  "type": "object",
                  "properties": {
                    "seen": {
                      "type": "boolean"
                    },
                    "flagged": {
                      "type": "boolean"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      "moveMessageItemResponse": {
        "description": "Example response",
        "content": {
          "application/json": {
            "schema": {
              "properties": {
                "success": {
                  "type": "boolean"
                },
                "data": {
                  "$ref": "#/components/schemas/MessageItem_ResourceObject"
                }
              }
            }
          }
        }
      },
      "400-BadRequest": {
        "description": "# 400 Bad Request\n\nThe server cannot or will not process the request due something that is perceived to be a client error, e.g. a malformed request syntax.",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorObject"
            }
          }
        }
      },
      "403-Forbidden": {
        "description": "# 403 Forbidden\n\nThe client is authenticated, but the server refuses to authorize access to the requested resource.",
        "content": {
          "application/json": {
            "schema": {
              "properties": {
                "id": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "BasicAuth": []
    }
  ]
}